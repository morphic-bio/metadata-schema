{
    "$schema": "https://json-schema.org/draft/2019-09/schema",
    "type": "object",
    "description": "Information about the cell line or cell culture biomaterial.",
    "unevaluatedProperties": false,
    "title": "Cell line",
    "name": "cell_line",
    "required": [
        "content"
    ],
    "allOf": [
        {
            "type": "object",
            "$ref": "/system/system",
            "$comment": "This loads the system needed properties outside the 'content' field. For implementation outside of MorPhiC, please ensure the system properties satisfy your implementation. These properties are not meant for the user to see.",
            "properties": {
                "accessions": {
                    "description": "An International Nucleotide Sequence Database Collaboration (INSDC) or BioSamples (BSD) sample accession.",
                    "title": "Sample accession",
                    "items": {
                        "anyOf": [
                            {
                                "isValidIdentifier": {
                                    "prefix": "biosample"
                                }
                            },
                            {
                                "isValidIdentifier": {
                                    "prefix": "insdc.sra"
                                }
                            }
                        ]
                    },
                    "examples": [
                        "SAMEA2397676",
                        "SRS000000"
                    ]
                },
                "schema_type": {
                    "const": "cell_line",
                    "default": "cell_line"
                },
                "described_by": {
                    "pattern": "^.*/type/[0-9]+.[0-9]+.[0-9]+/biomaterial/cell_line$"
                }
            }
        }
    ],
    "properties": {
        "content": {
            "type": "object",
            "title": "Content",
            "required": [
                "cell_line_id",
                "derived_from_cell_line",
                "supplier",
                "type"
            ],
            "properties": {
                "cell_line_description": {
                    "$ref": "#/definitions/non_empty_string",
                    "description": "A general description of the cell line.",
                    "title": "Cell line description",
                    "examples": [
                        "KOLF2.2J derived knockout cell line, PAX6/STL2 DKO"
                    ]
                },
                "cell_line_id": {
                    "$ref": "#/definitions/entity_id",
                    "description": "A unique ID for the cell line.",
                    "title": "Cell line ID",
                    "examples": [
                        "kolf2_2j_knockout_1"
                    ]
                },
                "cell_type": {
                    "type": "object",
                    "$ref": "system/ontology",
                    "properties": {
                        "ontology": {
                            "title": "Cell type ontology ID",
                            "graphRestriction": {
                                "ontologies": [
                                    "obo:cl"
                                ],
                                "classes": [
                                    "CL:0000003"
                                ],
                                "relations": [
                                    "rdfs:subClassOf"
                                ],
                                "direct": false,
                                "include_self": false
                            },
                            "examples": [
                                "CL:0000746",
                                "CL:1001610"
                            ]
                        },
                        "text": {
                            "title": "Cell type",
                            "examples": [
                                "bone marrow hematopoietic cell",
                                "cardiac muscle cell"
                            ]
                        }
                    }
                },
                "cellosaurus_accession": {
                    "$ref": "#/definitions/non_empty_string",
                    "description": "A Cellosaurus ID from Expasy",
                    "title": "Cellosaurus accession",
                    "isValidIdentifier": {
                        "prefix": "cellosaurus"
                    },
                    "examples": [
                        "CVCL_0132"
                    ]
                },
                "culture_environment": {
                    "$ref": "#/definitions/non_empty_string",
                    "description": "Cell culture environment in which cells are grown.",
                    "title": "Culture environment",
                    "examples": [
                        "Adherent cell culture",
                        "Suspension cell culture"
                    ]
                },
                "date_established": {
                    "$ref": "#/definitions/non_empty_string",
                    "description": "Date when the cell line was established.",
                    "title": "Date established",
                    "oneOf": [
                        {
                            "format": "date-time"
                        },
                        {
                            "format": "date"
                        }
                    ],
                    "examples": [
                        "2017-03-19",
                        "2018-11-13T20:20:39+00:00"
                    ]
                },
                "derived_from_cell_line": {
                    "$ref": "#/definitions/non_empty_string",
                    "description": "A cell line name that references the original cell line from which this cell line/clone was derived.",
                    "title": "Derived from cell line",
                    "examples": [
                        "KOLF2.2J",
                        "H1"
                    ]
                },
                "drug_treatment": {
                    "$ref": "#/definitions/non_empty_array",
                    "description": "Drugs added to the growth medium.",
                    "title": "Drug treatment",
                    "uniqueItems": true,
                    "items": {
                        "$ref": "#/definitions/non_empty_string"
                    },
                    "examples": [
                        "100 ug/mL ampicillin",
                        "15 ug/mL tetracycline"
                    ]
                },
                "genotyping_accessions": {
                    "$ref": "#/definitions/non_empty_array",
                    "description": "A GenBank assembly accession identifier for the cell line.",
                    "title": "Genotyping accession(s)",
                    "uniqueItems": true,
                    "items": {
                        "$ref": "#/definitions/non_empty_string",
                        "isValidIdentifier": {
                            "prefix": "insdc.gca"
                        }
                    },
                    "examples": [
                        "GCA_000001405.29"
                    ]
                },
                "growth_medium": {
                    "$ref": "#/definitions/non_empty_string",
                    "description": "The solid, liquid, or semi-solid medium used to support growth.",
                    "title": "Growth medium",
                    "examples": [
                        "RPMI 1640 + 2mM Glutamine + 10-20% FBS",
                        "human placental cord serum"
                    ]
                },
                "supplier": {
                    "$ref": "#/definitions/non_empty_string",
                    "description": "The supplier of the cell line.",
                    "title": "Cell line supplier",
                    "examples": [
                        "ATCC",
                        "JAX"
                    ]
                },
                "type": {
                    "$ref": "#/definitions/non_empty_string",
                    "description": "The type of cell line.",
                    "title": "Cell line type",
                    "enum": [
                        "primary",
                        "immortalized",
                        "stem cell",
                        "stem cell-derived",
                        "induced pluripotent",
                        "synthetic"
                    ],
                    "examples": [
                        "immortalized",
                        "primary"
                    ]
                },
                "zygosity": {
                    "$ref": "#/definitions/non_empty_string",
                    "description": "Known zygosity of the gene expression alteration in the cell line",
                    "title": "Zygosity",
                    "enum": [
                        "homozygous",
                        "heterozygous",
                        "mixed",
                        "unknown"
                    ],
                    "examples": [
                        "homozygous",
                        "hererozygous"
                    ]
                }
            }
        }
    },
    "definitions": {
        "non_empty_string": {
            "type": "string",
            "minLength": 1
        },
        "non_empty_array": {
            "type": "array",
            "minItems": 1
        },
        "entity_id": {
            "type": "string",
            "format": "regex",
            "pattern": "^[a-zA-Z0-9_]*$",
            "minLength": 1
        }
    }
}