{
    "$schema": "https://json-schema.org/draft/2019-09/schema",
    "type": "object",
    "description": "Information about the organoid.",
    "unevaluatedProperties": false,
    "title": "Organoid",
    "name": "organoid",
    "required": [
        "content"
    ],
    "allOf": [
        {
            "type": "object",
            "$ref": "/system/system",
            "$comment": "This loads the system needed properties outside the 'content' field. For implementation outside of MorPhiC, please ensure the system properties satisfy your implementation. These properties are not meant for the user to see.",
            "properties": {
                "accessions": {
                    "description": "An International Nucleotide Sequence Database Collaboration (INSDC) or BioSamples (BSD) sample accession.",
                    "title": "Sample accession",
                    "items": {
                        "anyOf": [
                            {
                                "isValidIdentifier": {
                                    "prefix": "biosample"
                                }
                            },
                            {
                                "isValidIdentifier": {
                                    "prefix": "insdc.sra"
                                }
                            }
                        ]
                    },
                    "examples": [
                        "SAMEA2397676",
                        "SRS000000"
                    ]
                },
                "described_by": {
                    "pattern": "^.*/type/[0-9]+.[0-9]+.[0-9]+/biomaterial/organoid$"
                },
                "schema_type": {
                    "const": "organoid",
                    "default": "organoid"
                }
            }
        }
    ],
    "properties": {
        "content": {
            "type": "object",
            "title": "Content",
            "required": [
                "_id",
                "organ_model_system"
            ],
            "dependentRequired": {
                "age_value": [
                    "age_unit"
                ],
                "age_unit": [
                    "age_value"
                ],
                "size_value": [
                    "size_unit"
                ],
                "size_unit": [
                    "size_value"
                ]
            },
            "properties": {
                "_id": {
                    "$ref": "#/definitions/entity_id",
                    "description": "A unique ID for the organoid.",
                    "title": "Organoid ID",
                    "examples": [
                        "kolf2_2j_knockout_1"
                    ]
                },
                "age_unit": {
                    "$ref": "/system/ontology",
                    "title": "Age unit",
                    "properties": {
                        "ontology": {
                            "title": "Age unit - Ontology ID",
                            "graphRestriction": {
                                "ontologies": [
                                    "obo:uo"
                                ],
                                "classes": [
                                    "UO:0000003"
                                ],
                                "relations": [
                                    "rdfs:subClassOf"
                                ],
                                "direct": false,
                                "include_self": false
                            },
                            "examples": [
                                "UO:0000033",
                                "UO:0000034"
                            ]
                        },
                        "text": {
                            "title": "Age unit",
                            "examples": [
                                "day",
                                "week"
                            ]
                        }
                    }
                },
                "age_value": {
                    "type": "number",
                    "description": "Age of the organoid in Organoid age unit measured from when cell aggregates started differentiating to desired organoid model.",
                    "title": "Organoid age",
                    "examples": [
                        55,
                        67
                    ]
                },
                "description": {
                    "$ref": "#/definitions/non_empty_string",
                    "description": "A general description of the organoid.",
                    "title": "Organoid description",
                    "examples": [
                        "Neuroectoderm organoid, derived from kolf2_2j DKO"
                    ]
                },
                "embedded_in_matrigel": {
                    "type": "boolean",
                    "description": "Whether the organoid is embedded in a matrigel.",
                    "title": "Embeddded in matrigel",
                    "examples": [
                        false,
                        true
                    ]
                },
                "growth_environment": {
                    "$ref": "#/definitions/non_empty_string",
                    "description": "Growth environment in which the organoid is grown.",
                    "title": "Growth environment",
                    "examples": [
                        "adherent",
                        "liquid suspension",
                        "matrigel"
                    ]
                },
                "morphology": {
                    "$ref": "#/definitions/non_empty_string",
                    "description": "General description of the organoid morphology.",
                    "title": "Organoid morphology",
                    "examples": [
                        "Epithelial monolayer with budding crypt-like domains",
                        "Optic cup structure"
                    ]
                },
                "organ_model_system": {
                    "$ref": "/system/ontology",
                    "description": "To which organ model system this organoid has been derived into.",
                    "title": "Model system",
                    "properties": {
                        "ontology": {
                            "title": "Organ model system - ontology ID",
                            "graphRestriction": {
                                "ontologies": [
                                    "obo:uberon"
                                ],
                                "classes": [
                                    "UBERON:0000465"
                                ],
                                "relations": [
                                    "rdfs:subClassOf"
                                ],
                                "direct": false,
                                "include_self": true
                            },
                            "examples": [
                                "UBERON:0000006",
                                "UBERON:0002371"
                            ]
                        },
                        "text": {
                            "title": "Organ model system",
                            "examples": [
                                "Neuroectoderm"
                            ]
                        }
                    }
                },
                "size_unit": {
                    "$ref": "/system/ontology",
                    "title": "Age unit",
                    "properties": {
                        "ontology": {
                            "title": "Age unit - Ontology ID",
                            "graphRestriction": {
                                "ontologies": [
                                    "obo:uo"
                                ],
                                "classes": [
                                    "UO:0000001"
                                ],
                                "relations": [
                                    "rdfs:subClassOf"
                                ],
                                "direct": false,
                                "include_self": false
                            },
                            "examples": [
                                "UO:0000015",
                                "UO:0000016"
                            ]
                        },
                        "text": {
                            "title": "Age unit",
                            "examples": [
                                "centimeter",
                                "millimeter"
                            ]
                        }
                    }
                },
                "size_value": {
                    "type": "number",
                    "description": "Size of the organoid in Organoid size unit.",
                    "title": "Organoid size",
                    "examples": [
                        4,
                        5
                    ]
                },
                "stored_oxygen_levels": {
                    "type": "number",
                    "description": "Percent oxygen level organoid was stored in prior to sequencing.",
                    "title": "Stored oxygen level",
                    "examples": [
                        75,
                        80
                    ]
                }
            }
        }
    },
    "definitions": {
        "non_empty_string": {
            "type": "string",
            "minLength": 1
        },
        "non_empty_array": {
            "type": "array",
            "minItems": 1
        },
        "entity_id": {
            "type": "string",
            "format": "regex",
            "pattern": "^[a-zA-Z0-9_]*$",
            "minLength": 1
        }
    }
}