{
    "$schema": "https://json-schema.org/draft/2019-09/schema",
    "type": "object",
    "description": "A file of read sequences generated by a sequencing experiment.",
    "unevaluatedProperties": false,
    "title": "Sequence file",
    "name": "sequence_file",
    "required": [
        "content"
    ],
    "allOf": [
        {
            "type": "object",
            "$ref": "system/document.json",
            "$comment": "This loads the system needed properties outside the 'content' field. For implementation outside of MorPhiC, please ensure the system properties satisfy your implementation. These properties are not meant for the user to see.",
            "properties": {
                "accessions": {
                    "description": "An International Nucleotide Sequence Database Collaboration (INSDC) run accession.",
                    "title": "Run accession",
                    "items": {
                        "anyOf": [
                            {
                                "isValidIdentifier": {
                                    "prefix": "insdc.sra"
                                }
                            },
                            {
                                "isValidIdentifier": {
                                    "prefix": "ena.embl"
                                }
                            },
                            {
                                "isValidIdentifier": {
                                    "prefix": "geo"
                                }
                            }
                        ]
                    },
                    "examples": [
                        "ERR000001",
                        "SRR111110"
                    ]
                },
                "described_by": {
                    "pattern": "^.*/type/[0-9]+.[0-9]+.[0-9]+/file/sequence_file$"
                },
                "schema_type": {
                    "const": "sequence_file",
                    "default": "sequence_file"
                }
            }
        }
    ],
    "properties": {
        "content": {
            "type": "object",
            "title": "Content",
            "required": [
                "extension",
                "label",
                "read_index"
            ],
            "properties": {
                "label": {
                    "type": "string",
                    "minLength": 1,
                    "description": "The name of the file. Please include the file extension in the file name.",
                    "title": "File name",
                    "examples": [
                        "R1.fastq.gz",
                        "R2.fastq.gz"
                    ]
                },
                "extension": {
                    "type": "string",
                    "minLength": 1,
                    "description": "The extension of the file. Please indicate the full file extension including compression extensions.",
                    "title": "File extension",
                    "examples": [
                        "fastq.gz",
                        "tif"
                    ]
                },
                "lane_index": {
                    "type": "integer",
                    "description": "The lane that this file was sequenced from.",
                    "title": "Lane index",
                    "examples": [
                        1,
                        4
                    ]
                },
                "read_index": {
                    "type": "string",
                    "minLength": 1,
                    "description": "The sequencing read this file represents. If a sequencing experiment is single-end, enter 'read1'.",
                    "title": "Read index",
                    "enum": [
                        "read1",
                        "read2",
                        "read3",
                        "read4",
                        "index1",
                        "index2",
                        "single-end, non-indexed"
                    ],
                    "examples": [
                        "index2",
                        "read1"
                    ]
                },
                "read_length": {
                    "type": "integer",
                    "description": "The length of a sequenced read in this file, in nucleotides.",
                    "title": "Read length",
                    "examples": [
                        51,
                        150
                    ]
                }
            }
        }
    }
}